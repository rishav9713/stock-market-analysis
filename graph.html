<html>
<head>
	<script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
	<script src="exchangeInfo.js"></script>
</head>
<body bgcolor="black">
<H1><center><font color="white">Stock Marketing Analysis Graphs</font></center></h1>
<select onChange="LoadCharts()" id="pairs">
<!-- <option value="BTCUSDT">BTCUSDT</option>
	<option value="ETHUSDT">ETHUSDT</option> -->
</select>
<br><br><br>
<div class="tradingview-widget-container" id="tvchart"></div>
</body>
<script>

//PASS ALL THE SYMBOLS
var sym = exchangeInfo.symbols,markup='';
sym.forEach(d => {
	markup += '<option value="' + d.symbol + '">' + d.symbol + '</option>';
});
document.getElementById('pairs').innerHTML = markup;

LoadCharts();
function LoadCharts(){
	let symbol = document.getElementById('pairs').value;
	// RENDER CHART
	new TradingView.widget(
		{
 // "width": 980,
 // "height": 610,
  "autosize": true,
  "symbol": "BINANCE:" + symbol,
  "interval": "1",
  "timezone": "Asia/Kolkata",
  "theme": "dark",
  "style": "3",
  "locale": "in",
  "toolbar_bg": "#f1f3f6",
  "enable_publishing": false,
  "allow_symbol_change": true,
  "watchlist": [
    "NASDAQ:AAPL",
    "NASDAQ:TSLA",
    "BITSTAMP:BTCUSD"
  ],
  "details": true,
  "hotlist": true,
  "studies": [
    "AwesomeOscillator@tv-basicstudies",
    "MF@tv-basicstudies"
  ],
  "container_id": "tvchart"
	});
}

</script>
</html>
